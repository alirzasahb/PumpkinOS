include ../common.mak

PROGRAM=$(BIN)/libzip$(SOEXT)

#OBJS=zip_file_set_comment.o zip_source_function.o zip_source_pass_to_lower_layer.o zip_source_file_stdio.o zip_unchange.o zip_file_get_offset.o zip_set_archive_comment.o zip_random_unix.o zip_file_set_mtime.o zip_source_write.o zip_source_crc.o zip_get_archive_flag.o zip_open.o zip_stat_index.o zip_source_seek.o zip_source_is_deleted.o zip_source_buffer.o zip_set_file_compression.o zip_set_name.o zip_get_file_comment.o zip_get_name.o zip_source_file_common.o zip_source_rollback_write.o zip_strerror.o zip_file_get_comment.o zip_progress.o zip_algorithm_xz.o zip_winzip_aes.o zip_source_free.o zip_file_error_get.o zip_buffer.o zip_fdopen.o zip_file_add.o zip_hash.o zip_file_set_encryption.o zip_discard.o zip_unchange_data.o zip_memdup.o zip_add_dir.o zip_entry.o zip_extra_field.o zip_close.o zip_source_commit_write.o zip_fopen_encrypted.o zip_source_file_stdio_named.o zip_source_window.o zip_fseek.o zip_source_error.o zip_get_archive_comment.o zip_fopen.o zip_source_tell.o zip_source_pkware_encode.o zip_file_replace.o zip_source_call.o zip_set_archive_flag.o zip_fopen_index.o zip_file_rename.o zip_string.o zip_fopen_index_encrypted.o zip_algorithm_deflate.o zip_source_layered.o zip_get_num_entries.o zip_source_tell_write.o zip_stat_init.o zip_source_begin_write.o zip_name_locate.o zip_extra_field_api.o zip_file_get_external_attributes.o zip_set_file_comment.o zip_fclose.o zip_source_begin_write_cloning.o zip_ftell.o zip_source_stat.o zip_pkware.o zip_fread.o zip_error_strerror.o zip_file_strerror.o zip_error.o zip_source_winzip_aes_encode.o zip_error_clear.o zip_error_get_sys_type.o zip_crypto_openssl.o zip_error_get.o zip_rename.o zip_error_to_str.o zip_source_pkware_decode.o zip_source_close.o zip_file_set_external_attributes.o zip_new.o zip_err_str.o zip_unchange_archive.o zip_source_get_file_attributes.o zip_stat.o zip_replace.o zip_libzip_version.o zip_source_compress.o zip_source_read.o zip_source_open.o zip_get_num_files.o zip_source_remove.o zip_io_util.o zip_file_error_clear.o zip_source_seek_write.o zip_utf-8.o zip_source_zip.o zip_unchange_all.o zip_source_accept_empty.o zip_add_entry.o zip_dir_add.o zip_delete.o zip_source_zip_new.o zip_set_default_password.o zip_add.o zip_source_winzip_aes_decode.o zip_dirent.o zip_source_supports.o zip_get_encryption_implementation.o
OBJS=zip_file_set_comment.o zip_source_function.o zip_source_pass_to_lower_layer.o zip_source_file_stdio.o zip_unchange.o zip_file_get_offset.o zip_set_archive_comment.o zip_random_unix.o zip_file_set_mtime.o zip_source_write.o zip_source_crc.o zip_get_archive_flag.o zip_open.o zip_stat_index.o zip_source_seek.o zip_source_is_deleted.o zip_source_buffer.o zip_set_file_compression.o zip_set_name.o zip_get_file_comment.o zip_get_name.o zip_source_file_common.o zip_source_rollback_write.o zip_strerror.o zip_file_get_comment.o zip_progress.o zip_source_free.o zip_file_error_get.o zip_buffer.o zip_fdopen.o zip_file_add.o zip_hash.o zip_file_set_encryption.o zip_discard.o zip_unchange_data.o zip_memdup.o zip_add_dir.o zip_entry.o zip_extra_field.o zip_close.o zip_source_commit_write.o zip_fopen_encrypted.o zip_source_file_stdio_named.o zip_source_window.o zip_fseek.o zip_source_error.o zip_get_archive_comment.o zip_fopen.o zip_source_tell.o zip_source_pkware_encode.o zip_file_replace.o zip_source_call.o zip_set_archive_flag.o zip_fopen_index.o zip_file_rename.o zip_string.o zip_fopen_index_encrypted.o zip_algorithm_deflate.o zip_source_layered.o zip_get_num_entries.o zip_source_tell_write.o zip_stat_init.o zip_source_begin_write.o zip_name_locate.o zip_extra_field_api.o zip_file_get_external_attributes.o zip_set_file_comment.o zip_fclose.o zip_source_begin_write_cloning.o zip_ftell.o zip_source_stat.o zip_pkware.o zip_fread.o zip_error_strerror.o zip_file_strerror.o zip_error.o zip_error_clear.o zip_error_get_sys_type.o zip_error_get.o zip_rename.o zip_error_to_str.o zip_source_pkware_decode.o zip_source_close.o zip_file_set_external_attributes.o zip_new.o zip_err_str.o zip_unchange_archive.o zip_source_get_file_attributes.o zip_stat.o zip_replace.o zip_libzip_version.o zip_source_compress.o zip_source_read.o zip_source_open.o zip_get_num_files.o zip_source_remove.o zip_io_util.o zip_file_error_clear.o zip_source_seek_write.o zip_utf-8.o zip_source_zip.o zip_unchange_all.o zip_source_accept_empty.o zip_add_entry.o zip_dir_add.o zip_delete.o zip_source_zip_new.o zip_set_default_password.o zip_add.o zip_dirent.o zip_source_supports.o zip_get_encryption_implementation.o

$(PROGRAM): $(OBJS)
#	$(CC) -shared -o $(PROGRAM) $(OBJS) -lcrypto
	$(CC) -shared -o $(PROGRAM) $(OBJS)

clean:
	rm -f $(PROGRAM) $(OBJS)
